% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/alchemer_functions.R
\name{alch_get_survey_responses}
\alias{alch_get_survey_responses}
\title{Obtener respuestas de una encuesta de Alchemer}
\usage{
alch_get_survey_responses(
  api_token = Sys.getenv("ALCHEMER_API_KEY"),
  api_token_secret = Sys.getenv("ALCHEMER_API_SECRET"),
  survey_id,
  results_per_page = 500,
  page = "all"
)
}
\arguments{
\item{api_token}{`chr` Clave publica de API de Alchemer. Por defecto toma
\code{Sys.getenv("ALCHEMER_API_KEY")}.}

\item{api_token_secret}{`chr` Clave secreta de API. Por defecto toma
\code{Sys.getenv("ALCHEMER_API_SECRET")}.}

\item{survey_id}{`int` ID de la encuesta de la que se desean obtener las respuestas.}

\item{results_per_page}{`int` Numero de respuestas por p\u00e1gina (1..500). Valor por
defecto: 500.}

\item{page}{`int` o \code{"all"}. Numero de p\u00e1gina a descargar, o
\code{"all"} para recuperar y combinar todas las p\u00e1ginas.}
}
\value{
`list`. Objeto devuelto por la API (parseado a lista). Si
  \code{page = "all"} el elemento \code{data} contendra las respuestas de
  todas las p\u00e1ginas combinadas.
}
\description{
Recupera las respuestas de una encuesta en Alchemer. Permite descargar una
p\u00e1gina concreta de resultados o todas las p\u00e1ginas (combinadas) cuando
\code{page = "all"}. La funci\u00f3n valida par\u00e1metros y devuelve el objeto
parseado por la API (lista con metadatos y elemento \code{data} con las
respuestas).
}
\details{
- Valida que las credenciales y par\u00e1metros sean correctos antes de llamar a la API.
- Cuando \code{page = "all"} hace multiples llamadas (si procede) y concatena
  todos los elementos \code{data} en la respuesta retornada.
}
\examples{
\dontrun{
# definir credenciales (mejor usar variables de entorno en tu sistema)
Sys.setenv(ALCHEMER_API_KEY = "tu_api_token")
Sys.setenv(ALCHEMER_API_SECRET = "tu_api_secret")

# obtener la primera p\u00e1gina
resp_page1 <- alch_get_survey_responses(survey_id = 123456, page = 1)
str(resp_page1)

# obtener todas las p\u00e1ginas combinadas
resp_all <- alch_get_survey_responses(survey_id = 123456, page = "all")
length(resp_all$data)    # numero total de respuestas descargadas
}

}
