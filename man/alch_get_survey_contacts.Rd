% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/alchemer_functions.R
\name{alch_get_survey_contacts}
\alias{alch_get_survey_contacts}
\title{Obtener contactos de una campaña de encuesta en Alchemer}
\usage{
alch_get_survey_contacts(
  api_token = Sys.getenv("ALCHEMER_API_KEY"),
  api_token_secret = Sys.getenv("ALCHEMER_API_SECRET"),
  survey_id,
  campaign_id,
  results_per_page = 500,
  page = "all"
)
}
\arguments{
\item{api_token}{`chr` Clave publica de API de Alchemer. Por defecto toma
\code{Sys.getenv("ALCHEMER_API_KEY")}.}

\item{api_token_secret}{`chr` Clave secreta de API. Por defecto toma
\code{Sys.getenv("ALCHEMER_API_SECRET")}.}

\item{survey_id}{`int` ID de la encuesta a la que pertenece la campaña.}

\item{campaign_id}{`int` ID de la campaña de la que se desean obtener los contactos.}

\item{results_per_page}{`int` Numero de contactos por página (1..500). Valor por
defecto: 500.}

\item{page}{`int` o \code{"all"}. Numero de página a descargar, o
\code{"all"} para recuperar y combinar todas las páginas.}
}
\value{
`list`. Objeto devuelto por la API (parseado a lista). Si
  \code{page = "all"} el elemento \code{data} contendra los contactos de
  todas las páginas combinadas.
}
\description{
Recupera los contactos asociados a una campaña de encuesta en Alchemer.
Permite descargar una página concreta de contactos o todas las páginas
(combinadas) cuando \code{page = "all"}. La función valida parámetros y
devuelve el objeto parseado por la API (lista con metadatos y elemento
\code{data} con los contactos).
}
\details{
- Valida que las credenciales y parámetros sean correctos antes de llamar a la API.
- Cuando \code{page = "all"} hace multiples llamadas (si procede) y concatena
  todos los elementos \code{data} en la respuesta retornada.
- Los contactos pueden incluir campos como \code{id}, \code{email_address},
  \code{first_name}, \code{last_name}, etc., segun la configuracion de la campaña.
}
\examples{
\dontrun{
# definir credenciales (mejor usar variables de entorno en tu sistema)
Sys.setenv(ALCHEMER_API_KEY = "tu_api_token")
Sys.setenv(ALCHEMER_API_SECRET = "tu_api_secret")

# obtener la primera página de contactos
contactos_page1 <- alch_get_survey_contacts(
  survey_id = 8529571,
  campaign_id = 24631558,
  page = 1
)
str(contactos_page1)

# obtener todos los contactos combinados
contactos_all <- alch_get_survey_contacts(
  survey_id = 8529571,
  campaign_id = 24631558,
  page = "all"
)
length(contactos_all$data)    # numero total de contactos descargados
}

}
